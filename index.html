<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        .updateModal{
            position: absolute;
            top:50%;
            left:50%;
            transform: translate(-50%,-50%);
            z-index: 9;

            background-image: linear-gradient(red,blue);
        }
        .updateModal::before {  
            position: absolute;
            top:50%;
            left:50%;
            transform: translate(-50%,-50%);
            z-index: -999;

            content: '';
            background-color: rgba(40, 40, 40, 0.481); 
            width: 100vw;
            height: 100vh; 
        }

        #closeUpdateModel {
            display: none;
        }
    </style>
</head>

<body class="bg-gray-50 dark:bg-gray-900">
    <header>
        <nav class="bg-white border-gray-200 px-4 lg:px-6 py-5 dark:bg-gray-800">
            <div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl">
                <a href="./index.html" class="flex items-center">
                    <img src="https://flowbite.com/docs/images/logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo" />
                    <span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Dashboard</span>
                </a>
                <div class="flex items-center lg:order-2">
                    <!-- Modal toggle -->
                    <button type="button" id="defaultModalButton" data-modal-target="defaultModal"
                        data-modal-toggle="defaultModal"
                        class="text-gray-800 bg-blue-800 dark:text-white hover:bg-gray-50 hover:cursor-pointer focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 lg:px-5 py-2 lg:py-2.5 mr-2 dark:hover:bg-gray-700 focus:outline-none dark:focus:ring-gray-800">
                        Add Product
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main modal -->
    <div id="defaultModal" tabindex="-1" aria-hidden="true"
        class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-modal md:h-full">
        <div class="relative p-4 w-full max-w-2xl h-full md:h-auto">
            <!-- Modal content -->
            <div class="relative p-4 bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5">
                <!-- Modal header -->
                <div
                    class="flex justify-between items-center pb-4 mb-4 rounded-t border-b sm:mb-5 dark:border-gray-600">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                        Add Product
                    </h3>
                    <button type="button"
                        class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white"
                        data-modal-toggle="defaultModal">
                        <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                clip-rule="evenodd"></path>
                        </svg>
                        <span class="sr-only">Close modal</span>
                    </button>
                </div>
                <!-- Modal body -->
                <form action="#">
                    <div class="grid gap-4 mb-4 sm:grid-cols-2">
                        <div>
                            <label for="name"
                                class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Name</label>
                            <input type="text" name="name" id="name"
                                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"
                                placeholder="Type product name" required="">
                        </div>
                        <div>
                            <label for="price"
                                class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Price</label>
                            <input type="number" name="price" id="price"
                                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"
                                placeholder="$2999" min="0" step="1" required="">
                        </div>
                        <div>
                            <label for="quantity"
                                class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">quantity</label>
                            <input type="number" name="quantity" id="quantity" min="1" step="1"
                                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"
                                placeholder="1" required="">
                        </div>
                        <div>
                            <label for="category"
                                class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Category</label>
                            <select id="category"
                                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                                <option value="" disabled selected>Select category</option>
                                <option value="TV">TV/Monitors</option>
                                <option value="PC">PC</option>
                                <option value="GA">Gaming/Console</option>
                                <option value="PH">Phones</option>
                            </select>
                        </div>
                        <div class="sm:col-span-2">
                            <label for="description"
                                class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Description</label>
                            <textarea id="description" rows="4"
                                class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"
                                placeholder="Write product description here"></textarea>
                        </div>
                    </div>
                    <button type="button" onclick="addProd()" id="addNewProd" data-modal-toggle="defaultModal"
                        class="text-white bg-blue-600 hover:cursor-pointer inline-flex items-center bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">
                        <svg class="mr-1 -ml-1 w-6 h-6" fill="currentColor" viewBox="0 0 20 20"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"
                                clip-rule="evenodd"></path>
                        </svg>
                        Add new product
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- table products -->
    <section class="mt-10 p-3 sm:p-5">
        <div class="mx-auto max-w-screen-xl px-4 lg:px-12">
            <!-- Start coding here -->
            <div class="bg-white dark:bg-gray-800 relative shadow-md sm:rounded-lg overflow-hidden">
                <div
                    class="flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4">
                    <div class="w-full md:w-1/2">
                        <form class="flex items-center">
                            <label for="searchByName" class="sr-only">Search</label>
                            <div class="relative w-full">
                                <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                                    <svg aria-hidden="true" class="w-5 h-5 text-gray-500 dark:text-gray-400"
                                        fill="currentColor" viewbox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                            d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
                                            clip-rule="evenodd" />
                                    </svg>
                                </div>
                                <input 
                                    type="text" 
                                    id="searchByName"
                                    onkeyup="searchProduct()"
                                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"
                                    placeholder="Search by product name" required="">
                            </div>
                        </form>
                    </div>
                    <div
                        class="w-full md:w-auto flex flex-col md:flex-row space-y-2 md:space-y-0 items-stretch md:items-center justify-end md:space-x-3 flex-shrink-0">
                        <div class="flex items-center space-x-3 w-full md:w-auto">
                            <button id="actionsDropdownButton" data-dropdown-toggle="actionsDropdown"
                                class="w-full md:w-auto flex items-center justify-center py-2 px-4 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"
                                type="button">
                                <svg class="-ml-1 mr-1.5 w-5 h-5" fill="currentColor" viewbox="0 0 20 20"
                                    xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                    <path clip-rule="evenodd" fill-rule="evenodd"
                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" />
                                </svg>
                                Actions
                            </button>
                            <div id="actionsDropdown"
                                class="hidden z-10 w-44 bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600">
                                <ul class="py-1 text-sm text-gray-700 dark:text-gray-200"
                                    aria-labelledby="actionsDropdownButton">
                                    <li>
                                        <a href="#"
                                            class="block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Mass
                                            Edit</a>
                                    </li>
                                </ul>
                                <div class="py-1">
                                    <a href="#"
                                        class="block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">Delete
                                        all</a>
                                </div>
                            </div>
                            <button id="filterDropdownButton" data-dropdown-toggle="filterDropdown"
                                class="w-full md:w-auto flex items-center justify-center py-2 px-4 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"
                                type="button">
                                <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true"
                                    class="h-4 w-4 mr-2 text-gray-400" viewbox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z"
                                        clip-rule="evenodd" />
                                </svg>
                                Filter
                                <svg class="-mr-1 ml-1.5 w-5 h-5" fill="currentColor" viewbox="0 0 20 20"
                                    xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                    <path clip-rule="evenodd" fill-rule="evenodd"
                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" />
                                </svg>
                            </button>
                            <div id="filterDropdown"
                                class="z-10 hidden w-48 p-3 bg-white rounded-lg shadow dark:bg-gray-700">
                                <h6 class="mb-3 text-sm font-medium text-gray-900 dark:text-white">Choose brand</h6>
                                <ul class="space-y-2 text-sm" aria-labelledby="filterDropdownButton">
                                    <li class="flex items-center">
                                        <input id="apple" type="checkbox" value=""
                                            class="w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500">
                                        <label for="apple"
                                            class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-100">Apple
                                            (56)</label>
                                    </li>
                                    <li class="flex items-center">
                                        <input id="fitbit" type="checkbox" value=""
                                            class="w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500">
                                        <label for="fitbit"
                                            class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-100">Microsoft
                                            (16)</label>
                                    </li>
                                    <li class="flex items-center">
                                        <input id="razor" type="checkbox" value=""
                                            class="w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500">
                                        <label for="razor"
                                            class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-100">Razor
                                            (49)</label>
                                    </li>
                                    <li class="flex items-center">
                                        <input id="nikon" type="checkbox" value=""
                                            class="w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500">
                                        <label for="nikon"
                                            class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-100">Nikon
                                            (12)</label>
                                    </li>
                                    <li class="flex items-center">
                                        <input id="benq" type="checkbox" value=""
                                            class="w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500">
                                        <label for="benq"
                                            class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-100">BenQ
                                            (74)</label>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
                        <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                            <tr>
                                <th scope="col" class="px-4 py-3">ID</th>
                                <th scope="col" class="px-4 py-3">Product name</th>
                                <th scope="col" class="px-4 py-3">Category</th>
                                <th scope="col" class="px-4 py-3">Quantity</th>
                                <th scope="col" class="px-4 py-3">Price</th>
                                <th scope="col" class="px-4 py-3">Description</th>
                                <th scope="col" class="px-4 py-3">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="tbody">
                            <!-- <tr id="noproduct">
                                <td colspan="7">
                                    <p class="text-center py-6 text-3xl">
                                        No Product
                                    </p>
                                </td>
                            </tr> -->
                            <!-- <tr class="border-b dark:border-gray-700">
                                <td class="px-4 py-3">1</td>
                                <th scope="row" class="px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white">Apple iMac 27&#34;</th>
                                <td class="px-4 py-3">PC</td>
                                <td class="px-4 py-3">Apple</td>
                                <td class="px-4 py-3">300</td>
                                <td class="px-4 py-3">$2999</td>
                                <td class="px-4 py-3 flex items-center ">
                                    <button onclick="btnEdit()" class="bg-blue-700 w-[80px] me-3 text-white rounded-md px-2 py-1 font-semibold hover:bg-blue-300 hover:text-black hover:cursor-pointer">Edit</button>
                                    <button onclick="btnUpdate()" class="bg-red-700 w-[80px] text-white rounded-md px-2 py-1 font-semibold hover:bg-red-300 hover:text-black hover:cursor-pointer">Update</button>
                                </td>
                            </tr> -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- update modal -->
    <section id="closeUpdateModel" class=" rounded-xl updateModal">
        <div class="w-[300px] md:w-[700px] px-9 py-8 mx-auto lg:py-10">
            <div class="flex justify-between">
                <h2 class="mb-4 text-xl font-bold text-gray-900 dark:text-white">Update product</h2>

                <button class="hover:cursor-pointer hover:scale-110" onclick="closeUpdateModel()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 480 480"><path d="m394.7 317.4-51.5-25.8a57.7 57.7 0 0 1 0-103.2l51.5-25.8a57.7 57.7 0 1 0-77.4-77.4l-25.7 51.6a57.7 57.7 0 0 1-103.2 0l-25.8-51.5a57.7 57.7 0 1 0-77.3 77.3l51.5 25.8a57.7 57.7 0 0 1 0 103.2l-51.5 25.8a57.7 57.7 0 1 0 77.3 77.3l25.8-51.5a57.7 57.7 0 0 1 103.2 0l25.8 51.5a57.7 57.7 0 1 0 77.4-77.4Z" fill="#FFFFFF"></path></svg>
                </button>
            </div>
            <form action="#">
                <div class="grid gap-4 mb-4 sm:grid-cols-2 sm:gap-6 sm:mb-5">
                    <div>
                        <input type="hidden" id="editPid" value="">
                    </div>
                    <div class="sm:col-span-2">
                        <label for="name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Product
                            Name</label>
                        <input type="text" name="name" id="editName"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5    dark:focus:ring-primary-500 dark:focus:border-primary-500"
                            value="" placeholder="Type product name" required="">
                    </div>
                    <div class="w-full">
                        <label for="editQty"
                            class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Quantity</label>
                        <input type="text" name="qty" id="editQty"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5     dark:focus:ring-primary-500 dark:focus:border-primary-500"
                            value="" placeholder="Quantity" required="">
                    </div>
                    <div class="w-full">
                        <label for="editPrice"
                            class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Price</label>
                        <input type="number" name="price" id="editPrice"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5      dark:focus:ring-primary-500 dark:focus:border-primary-500"
                            value="" min="1" placeholder="$299" required="">
                    </div>
                    <div class="sm:col-span-2">
                        <label for="editCategory"
                            class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Category</label>
                        <select id="editCategory"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5     dark:focus:ring-primary-500 dark:focus:border-primary-500">
                            <option value="" disabled selected>Select Category</option>
                            <option value="TV">TV/Monitors</option>
                            <option value="PC">PC</option>
                            <option value="GA">Gaming/Console</option>
                            <option value="PH">Phones</option>
                        </select>
                    </div> 
                    <div class="sm:col-span-2">
                        <label for="editDescription"
                            class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Description</label>
                        <textarea id="editDescription" rows="3"
                            class="block p-2.5 w-full text-sm  bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500      dark:focus:ring-primary-500 dark:focus:border-primary-500"
                            placeholder="Write a product description here..."></textarea>
                    </div>
                </div>

                <div class="flex items-center space-x-4">
                    <button type="button"
                        onclick="updateProd()"
                        class="text-green-600 inline-flex items-center hover:cursor-pointer hover:text-white border border-green-600 hover:bg-green-600 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600 dark:focus:ring-green-900">
                        Update product
                    </button> 
                </div>
            </form>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>
    <script>
        const products = [
            // {
            //     id : 1,
            //     name : 'coca',
            //     price : 1,
            //     qty : 3,
            //     category : 'drink',
            //     description : 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ea, eos.'
            // }
        ];

        const name = document.getElementById('name');
        const price = document.getElementById('price');
        const qty = document.getElementById('quantity');
        const category = document.getElementById('category');
        const description = document.getElementById('description');

        const btnAddProduct = document.getElementById('defaultModalButton');

        const addNewProd = document.getElementById('addNewProd');
        const btnEdit = document.getElementById('btnEdit');
        const btnUpdate = document.getElementById('btnUpdate');

        const tbody = document.getElementById('tbody');

        // close modal update 
        const closeUpdateModel = () => {
            const closeUM = document.getElementById('closeUpdateModel'); 
            closeUM.style.display = 'none'; 
        };
        // end of close modal update

        // open modal update and edit value
        const openUpdateModel = (id) => {
            const closeUM = document.getElementById('closeUpdateModel'); 
            closeUM.style.display = 'block'; 

            const editPid = document.getElementById('editPid');
            const editName = document.getElementById('editName');
            const editQty = document.getElementById('editQty');
            const editPrice = document.getElementById('editPrice');
            const editCategory = document.getElementById('editCategory');
            const editDescription = document.getElementById('editDescription');

            products.forEach( item => {
                if(item.id == id){
                    editPid.value = item.id;
                    editName.value = item.name; 
                    editQty.value = item.qty; 
                    editPrice.value = item.price; 
                    editCategory.value = item.category; 
                    editDescription.value = item.desc; 
                }
            });
        };
        // end of open modal update

        // clear form function
        const clearForm = () => {
            name.value = '';
            price.value = '';
            qty.value = '';
            description.value = '';
            category.selectedIndex = 0;
        };
        // end of clear form function

        // render product function 
        const renderProd = () => {
            let tr = '';

            if (products.length > 0) {
                products.forEach(item => {
                    tr += `
                    <tr class="border-b dark:border-gray-700">
                        <td class="px-4 py-3">${item.id}</td>
                        <th scope="row" class="px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                            ${item.name}    
                        </th>
                        <td class="px-4 py-3">${item.category}</td>
                        <td class="px-4 py-3">${item.qty}</td>
                        <td class="px-4 py-3">${item.price}$</td>
                        <td class="px-4 py-3">${item.desc}</td>
                        <td class="px-4 py-3 flex items-center ">
                            <button onclick="openUpdateModel(${item.id})" 
                                    type="button" 
                                    class="bg-blue-700 w-[80px] me-3 text-white rounded-md px-2 py-1 font-semibold hover:bg-blue-300 hover:text-black hover:cursor-pointer"
                            >
                                Edit
                            </button> 
                            <button onclick="deleteProd(${item.id})" class="bg-red-700 w-[80px] text-white rounded-md px-2 py-1 font-semibold hover:bg-red-300 hover:text-black hover:cursor-pointer">Delete</button>
                        </td>
                    </tr>
                `;
                });

                tbody.innerHTML = tr;
            }
        };
        // end of render product function

        // add product function
        const addProd = () => {
            if (name.value != '' || price.value != '' || qty.value != '') {
                let product = {
                    id: products.length + 1,
                    name: name.value,
                    price: price.value,
                    qty: qty.value,
                    category : category.value,
                    desc: description.value.trim() || 'NaN'
                };

                products.push(product);
                renderProd();

                // clear form product
                clearForm();
            }


        };
        // end of add product function 

        // delete function 
        const deleteProd = (id) => {
            let findInd = products.findIndex(p => p.id == id);

            products.splice(findInd, 1);

            tbody.innerText = '';
            renderProd();
        };
        // end of delete function

        // update function 
        const updateProd = () => {
            const editPid = document.getElementById('editPid');
            const editName = document.getElementById('editName');
            const editQty = document.getElementById('editQty');
            const editPrice = document.getElementById('editPrice');
            const editCategory = document.getElementById('editCategory');
            const editDescription = document.getElementById('editDescription');

            products.forEach( item => {
                if(item.id === Number(editPid.value)){
                    item.name = editName.value;
                    item.price = editPrice.value;
                    item.qty = editQty.value;
                    item.category = editCategory.value;
                    item.desc = editDescription.value;
                }
            });

            tbody.innerText = '';
            closeUpdateModel();
            renderProd();
        };
        // end of update function 

        // search product by name
        const searchProduct = () => {
            const search = document.getElementById('searchByName');

            let newProduct = products.filter( item => item.name.includes(search.value));

            if(newProduct.length == 0){
                tbody.innerText = '';
            }
            else {
                tbody.innerText = '';
                let tr = '';

                newProduct.forEach(item => {
                    tr += `
                    <tr class="border-b dark:border-gray-700">
                        <td class="px-4 py-3">${item.id}</td>
                        <th scope="row" class="px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                            ${item.name}    
                        </th>
                        <td class="px-4 py-3">${item.category}</td>
                        <td class="px-4 py-3">${item.qty}</td>
                        <td class="px-4 py-3">${item.price}$</td>
                        <td class="px-4 py-3">${item.desc}</td>
                        <td class="px-4 py-3 flex items-center ">
                            <button onclick="openUpdateModel(${item.id})" 
                                    type="button" 
                                    class="bg-blue-700 w-[80px] me-3 text-white rounded-md px-2 py-1 font-semibold hover:bg-blue-300 hover:text-black hover:cursor-pointer"
                            >
                                Edit
                            </button> 
                            <button onclick="deleteProd(${item.id})" class="bg-red-700 w-[80px] text-white rounded-md px-2 py-1 font-semibold hover:bg-red-300 hover:text-black hover:cursor-pointer">Delete</button>
                        </td>
                    </tr>
                `;
                });

                tbody.innerHTML = tr;
            } 
        };
        // end of search product by name


    </script>
</body>

</html>